<!-- header -->
<app-header></app-header>

<!-- start display Account -->
<div class="container-fluid body-content">
    <div class="container texte" style="margin-top:30px; margin-bottom: 30px">
        <button type="button" style="margin-bottom: 30px;" routerLink = "/inventory" class="btn btn-outline-primary mr-2" placement="right" ngbTooltip="Add an account">
            <i class="icon ion-arrow-return-left" style="font-size:25px;"></i>  Back
          </button>
        <div class="margin-bottom:35px">
            <h5 style="color:gray">List of Product</h5>
            <hr/>
        </div>
        <div *ngIf="updateSuccess" class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Success</strong>     You have successfully update an existing product.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div *ngIf="deletedSuccess" class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Success</strong>     You have successfully delete an product.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div *ngIf="insertedSuccess" class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Success</strong>     You have successfully create a new product.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div *ngIf="success_delete" class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Error</strong>       You have missed creating account.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
            <div id="data-grid-demo">
                <dx-data-grid 
                    id="gridContainer"
                    [dataSource]="dataSource"
                    keyExpr="id"
                    [showBorders]="true"
                    [columnAutoWidth]="true"
                    [rowAlternationEnabled]="true"
                    (onRowInserted)="onRowInserted($event)"
                    (onRowUpdated)="onRowUpdated($event)"
                    (onRowRemoved)="onRowRemoved($event)">

                    <dxo-paging [enabled]="true" [pageSize]="15"></dxo-paging>
                    <dxo-export [enabled]="true" fileName="Product" [allowExportSelectedData]="true"></dxo-export>
                    <dxo-selection mode="multiple"></dxo-selection>
                    <dxo-group-panel [visible]="true"></dxo-group-panel>
                    <dxo-search-panel [visible]="true" [highlightCaseSensitive]="true"></dxo-search-panel>
                    <dxo-remote-operations [filtering]="true"></dxo-remote-operations>
    
                    <dxo-editing mode="form" [allowUpdating]="true" [refreshMode]="refreshMode"
                                 [allowAdding]="true" [allowDeleting]="true">
                    </dxo-editing>
                    
                    <dxi-column dataField="name" caption="Product Name"></dxi-column>
                    <dxi-column dataField="barcode" caption="Barcode" ></dxi-column>
                    <dxi-column dataField="measure" caption="Measure" ></dxi-column>
                    <dxi-column dataField="price" caption="Price" ></dxi-column>
                    <dxi-column dataField="category_id" caption="Categorie">
                        <dxo-lookup [dataSource]="categories" displayExpr="name" valueExpr="id"></dxo-lookup>
                    </dxi-column>
                    <dxi-column dataField="description" caption="Description" [visible]="false">
                        <dxo-form-item [colSpan]="2" editorType="dxTextArea" [editorOptions]="{ height: 100 }">
                        </dxo-form-item>
                    </dxi-column>
                    
                </dx-data-grid>
            </div>
    </div>
    <app-button></app-button>
</div>
<!-- end display Account -->

<!-- footer -->
<app-footer></app-footer>
