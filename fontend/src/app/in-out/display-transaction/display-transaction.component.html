
<!-- header -->
<app-header></app-header>

<!-- start display Account -->
<div class="container-fluid body-content">
    <div class="container texte" style="margin-top:30px; margin-bottom: 30px">
        <button type="button" style="margin-bottom: 30px;" routerLink = "/home" class="btn btn-outline-primary mr-2" placement="right" ngbTooltip="Add an account">
            <i class="icon ion-arrow-return-left" style="font-size:25px;"></i>  Back
          </button>
        <div class="margin-bottom:35px">
            <h5 style="color:gray">List of Transaction</h5>
            <hr/>
        </div>
        <button type="button" style="margin-bottom: 30px;" routerLink = "/add_transaction" class="btn btn-outline-primary mr-2" placement="right" ngbTooltip="Add an account">
            <i class="icon ios-add-outline" style="font-size:15px;"></i>  ADD
          </button>
        <div *ngIf="updateSuccess" class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Success</strong>     You have successfully update an existing transaction.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div *ngIf="deletedSuccess" class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Success</strong>     You have successfully delete an transaction.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div *ngIf="insertedSuccess" class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Success</strong>     You have successfully create a new transaction.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div *ngIf="success_delete" class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Error</strong>       You have missed creating transaction.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
            <div id="data-grid-demo">
                <dx-data-grid 
                    id="gridContainer"
                    [dataSource]="dataSource"
                    keyExpr="id"
                    [showBorders]="true"
                    (onRowInserted)="onRowInserted($event)"
                    (onRowUpdated)="onRowUpdated($event)"
                    (onRowRemoved)="onRowRemoved($event)">
                    <dxo-export [enabled]="true" fileName="Product" [allowExportSelectedData]="true"></dxo-export>
                    <dxo-selection mode="multiple"></dxo-selection>
                    <dxo-group-panel [visible]="true"></dxo-group-panel>
                    <dxo-search-panel
                    [visible]="true"
                    [highlightCaseSensitive]="true"></dxo-search-panel>
                    <dxo-scrolling mode="virtual"></dxo-scrolling>
                    <dxo-paging [enabled]="false"></dxo-paging>
                    <dxo-remote-operations [filtering]="true"></dxo-remote-operations>
    
                    <dxo-editing mode="popup" [allowUpdating]="true" [refreshMode]="refreshMode"
                    [allowAdding]="true" [allowDeleting]="true">
                        <dxo-popup
                            title="Add Transaction"
                            [showTitle]="true"
                            [width]="700"
                            [height]="350"
                            [position]="{ my: 'center', at: 'center', of: window }">
                        </dxo-popup>
                        <dxo-form>
                            <dxi-item itemType="group" [colCount]="2" [colSpan]="2">
                                <dxi-item dataField="user_id" caption="Staff"></dxi-item>
                                <dxi-item dataField="product_id" caption="Product"></dxi-item>
                            </dxi-item>
                        </dxo-form>
                    </dxo-editing>
                    
                    <dxi-column dataField="user_id" caption="Staff">
                        <!-- <dxo-lookup
                            [dataSource]="staffs"
                            displayExpr="name"
                            valueExpr="id">
                        </dxo-lookup> -->
                    </dxi-column>
                    <dxi-column dataField="product_id" caption="Product" >
                        <!-- <dxo-lookup
                            [dataSource]="products"
                            displayExpr="name"
                            valueExpr="id">
                        </dxo-lookup> -->
                    </dxi-column>
                    
                </dx-data-grid>
            </div>
    </div>
    <app-button></app-button>
</div>
<!-- end display Account -->

<!-- footer -->
<app-footer></app-footer>
