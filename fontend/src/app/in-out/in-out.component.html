<!-- start header -->
<app-header></app-header>
<!-- end header -->

<!-- #category= 'ngModel' [(ngModel)]= 'staff.name' -->
<!-- #category= 'ngModel' [(ngModel)]= 'product.name' -->
<!-- start content-->
<div class="container-fluid body-content">
    <div class="container texte" style="margin-top:30px; margin-bottom: 30px">
        <button type="button" style="margin-bottom: 30px;" routerLink = "/display_transaction" class="btn btn-outline-primary mr-2" placement="right" ngbTooltip="Add an account">
            <i class="icon ion-arrow-return-left" style="font-size:25px;"></i>  Back
        </button>
          <form name="form" (submit) = "f.form.valid && submitRegister()" #f="ngForm" novalidate>
            <div class="m-3 form-group">
                <div *ngIf="success" class="alert alert-success alert-dismissible fade show" role="alert">
                    <strong>Success</strong>     You have successfully make a new transaction.
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            </div>
            <div class="m-3 input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">Staff</span>
                </div>
                <select required 
                class="form-control" 
                name="staffid"
                placeholder="Select..."
                #staffid= "ngModel" 
                [ngClass]="{ 'is-invalid': f.submitted && staffid.invalid }"
                [(ngModel)]= "product_user.user_id">
                    <option *ngFor="let staffid of staffItems" [value]="staffid.id">
                        {{staffid.name}}
                    </option>
                </select>
                <!-- selected value is {{staffSelected}} -->
                <div *ngIf="f.submitted && staffid.invalid" class="invalid-feedback">
                    <div *ngIf="staffid.errors.required">Staff is required</div>
                </div>
            </div>
            <div class="m-3 input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">Product</span>
                </div>
                <select required 
                class="form-control" 
                name="productid"  
                placeholder="Select..."
                #productid= "ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && productid.invalid }"
                [(ngModel)]= "product_user.product_id">
                    <option *ngFor="let productid of productItems" [value]="productid.id">
                        {{productid.name}}
                    </option>
                </select>
                <!-- selected value is {{productSelected}} -->
                <div *ngIf="f.submitted && productid.invalid" class="invalid-feedback">
                    <div *ngIf="productid.errors.required">Product is required</div>
                </div>
            </div>
            <div class="m-3 form-group">
                <button class="btn btn-outline-secondary mr-2" type="submit" >Register</button>
                <button class="btn btn-danger mr-2" type="button" routerLink="/display_transaction" >Annuler</button>
            </div>
        </form>
    </div>
    <app-button></app-button>
</div>

<!-- start footer -->
<app-footer></app-footer>
<!-- end footer -->
